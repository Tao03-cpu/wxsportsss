<!--
  é¡µé¢ï¼šæˆ‘çš„ï¼ˆmineï¼‰
  ç»“æ„ï¼š
    - ä¸ªäººèµ„æ–™å¡ç‰‡ï¼ˆå¤´åƒ/æ˜µç§°/ç­‰çº§/æ ‡ç­¾ï¼‰
    - æœ¬å‘¨ç‡ƒåŠ¨æ•°æ®ï¼ˆæ—¶é•¿/ç´¯è®¡æ‰“å¡ï¼‰
    - æœ¬æœˆæ‰“å¡æ—¥å†ï¼ˆå½“æœˆé«˜äº®ï¼‰
    - åº•éƒ¨å¿«æ·å…¥å£ï¼ˆè®¾ç½®/åé¦ˆ/å¥åº·æ¡£æ¡ˆï¼‰
-->
<view class="container">
    	<view class="profile-card">
    <view class="card-left">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill" bindtap="previewAvatar"></image>
    </view>
		<view class="card-right">
			<view class="nickname">{{userInfo.nickname}}</view>
			<view class="level-box">{{userInfo.level}}</view>
			<view class="tags-row">
				<block wx:for="{{userInfo.tribe_tags}}" wx:key="index">
					<text class="tag">{{item}}</text>
				</block>
            </view>
        </view>
        </view>

    <view class="data-calendar-panel">
		
        <view class="stats-panel">
            <view class="panel-title">æœ¬å‘¨ç‡ƒåŠ¨æ•°æ®</view>
            <view class="stats-grid">
                <view class="stat-item">
                    <text class="icon">â±ï¸</text>
                    <text class="num">{{userInfo.stats.week_duration}}<text class="unit">min</text></text>
                    <text class="label">æœ¬å‘¨æ—¶é•¿</text>
                </view>
                <view class="stat-item">
                    <text class="icon">ğŸ”¥</text>
                    <text class="num">{{userInfo.stats.total_checkins}}</text>
                    <text class="label">ç´¯è®¡æ‰“å¡</text>
                </view>
            </view>
        </view>

		<view class="calendar-panel">
			<view class="panel-title calendar-header">
				<text>æœ¬æœˆæ‰“å¡æ—¥å†</text>
				<text class="month-label">{{calendarTitle}}</text>
			</view>
			
			<view class="weekdays">
				<text>æ—¥</text><text>ä¸€</text><text>äºŒ</text><text>ä¸‰</text><text>å››</text><text>äº”</text><text>å…­</text>
			</view>

			<view class="calendar-grid">
				<block wx:for="{{calendarDays}}" wx:key="day">
					<view wx:if="{{item.is_empty}}" class="day-item empty"></view>
					
					<view wx:else 
                        class="day-item {{item.is_checked ? 'checked' : ''}}">
						<view class="day-num">{{item.day}}</view>
					</view>
				</block>
			</view>
		</view>
		
	</view>

	<view class="action-buttons-row">
		<button class="util-btn" bindtap="goToSettings">
			<text class="icon">âš™ï¸</text><text>è®¾ç½®</text>
		</button>
		<button class="util-btn" bindtap="goToFeedback">
			<text class="icon">ğŸ’¬</text><text>æ„è§åé¦ˆ</text>
		</button>
		<button class="util-btn" bindtap="goHealthDashboard">
			<text class="icon">âš–ï¸</text><text>å¥åº·æ¡£æ¡ˆ</text>
		</button>
	</view>
	
</view>
